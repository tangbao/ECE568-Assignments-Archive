<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ECE 568 HW5 Zhongze_Tang</title>
    <script type="text/javascript">
      function setUnit(unit){
        //change the sentence in result
        document.getElementById('unit').innerHTML="You select to use "+unit+" units";
        //change the value in table
        if(unit=="SI"){
          document.getElementById('unit_t1').innerHTML="(m)";
          document.getElementById('unit_t2').innerHTML="(m)";
          document.getElementById('unit_t3').innerHTML="(m^3)";
        }else{
          document.getElementById('unit_t1').innerHTML="(ft)";
          document.getElementById('unit_t2').innerHTML="(ft)";
          document.getElementById('unit_t3').innerHTML="(ft^3)";
        }
      }

      function setShape(shape){
        //change the sentence in result
        document.getElementById('shape').innerHTML="You selected to find the volume of "+shape;
        //change the value in table
        document.getElementById('shape_t').innerHTML=shape;
        //reset volume
        setVolume('');
        //enable or disable the height
        if(shape == 'Sphere'){
          document.getElementById('heightText').disabled = true;
          document.getElementById('heightText').value='';
          setHeight('N/A');
        }else{
          document.getElementById('heightText').disabled = false;
          if(document.getElementById('height').innerHTML == 'N/A'){
            setHeight('');
          }
        }
      }

      function resetForm(){
        //reset the form
        document.getElementById("myForm").reset();
        //reset the table
        setUnit('English');
        setShape('Cylinder');
        setRadius('');
        setHeight('');
      }

      //todo check data type
      function setRadius(value) {
        //change the value in table
        document.getElementById('radius').innerHTML=value;
        setVolume('');
      }

      function setHeight(value){
        //change the value in table
        document.getElementById('height').innerHTML=value;
        setVolume('');
      }

      function calc(){
        var shapeToCalc=document.getElementById('shape_t').innerHTML;
        var vol = 0;
        var PI = 3.141592653;
        var r = document.getElementById('radius').innerHTML;
        var h = document.getElementById('height').innerHTML;
        if(shapeToCalc == 'Cylinder'){
            vol = PI*r*r*h;
        } else if (shapeToCalc == 'Sphere') {
            vol = PI*r*r*r*4/3;
        } else if (shapeToCalc == 'Cone') {
            vol = PI*r*r*h/3;
        }
        setVolume(vol);
      }

      function setVolume(value){
        document.getElementById('volume').innerHTML=value;
      }
    </script>
  </head>

  <body>
    <h1>This web site will find the volume for a Cylinder, Sphere or Cone</h1>

    <form id="myForm">
      Select the units(English or SI)<br/>
      <input type="radio" name="unit" id="english" value="english" onclick="setUnit('English')" checked>English
      <input type="radio" name="unit" id="si" value="si" onclick="setUnit('SI')">SI

      <br/><br/>Select the shape
      <select name="shape" onchange="setShape(this.value)">
        <option value="Cylinder">Cylinder</option>
        <option value="Sphere">Sphere</option>
        <option value="Cone">Cone</option>
      </select>

      <br/><br/>Enter the radius
      <input type="text" name="radius" onchange="setRadius(this.value)" required>

      <br/><br/>For the cylinder and cone, enter the height
      <input type="text" id="heightText" onchange="setHeight(this.value)">

      <br/><br/>
      <input type="button" onclick="resetForm()" value="Reset the form">
    </form>

    <h3>Results</h3>
    <p id="unit">You select to use English units</p>
    <p id="shape">You selected to find the volume of Cylinder</p>

    <table border="1">
      <tr>
        <th>Shape</th>
        <th>Radius</th>
        <th>Height</th>
        <th>Volume</th>
      </tr>
      <tr>
        <td>Unit</td>
        <td id="unit_t1">(ft)</td>
        <td id="unit_t2">(ft)</td>
        <td id="unit_t3">(ft^3)</td>
      </tr>
      <tr>
        <td id="shape_t">Cylinder</td>
        <td id="radius"></td>
        <td id="height"></td>
        <td id="volume"></td>
      </tr>
    </table>
    <br/>
    <input type="button" onclick="calc()" value="Calculate the result">

    </p>
    </body>
</html>
