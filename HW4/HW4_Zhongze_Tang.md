### ECE568 Software Engineering II - Web Application HW4

Zhongze Tang (zt67)

### Q1

The XML file generated by (b) is Q1/x1a.xml. (a), (b) and (c) are tested by a XML IDE called oXygen.

(a) You can check Q1/q1a.dtd
```
<?xml version="1.0" encoding="UTF-8"?>
<!ELEMENT products (product*)>
<!ELEMENT product (name, price, description, store*)>
<!ELEMENT store (name, phones, markup)>

<!ELEMENT name (#PCDATA)>
<!ELEMENT price (#PCDATA)>
<!ELEMENT description (#PCDATA)>
<!ELEMENT phones (#PCDATA)>
<!ELEMENT markup (#PCDATA)>

<!ATTLIST product pid CDATA #REQUIRED>
<!ATTLIST store sid CDATA #REQUIRED>
```

(b) You can check Q1/q1b.xquery
```
<products>
{
    for $product in doc("q1b.xml")/db/products/row
    return
        <product pid="{$product/pid}">
            {$product/name}{$product/price}{$product/description}
            {
                for $store in doc("q1b.xml")/db/stores/row
                for $sell in doc("q1b.xml")/db/sells/row
                where $product/pid = $sell/pid and $store/sid = $sell/sid
                return
                <store sid="{$store/sid}">
                    {$store/name}{$store/phones}{$sell/markup}
                </store>

            }
        </product>
}
</products>
```

(c) You can check Q1/q1c.xquery
```
<products>
{
    for $product in doc("q1a.xml")/products/product
    where $product/store/markup = "25%"
    return
        <product>
            {$product/name} {$product/price}
        </product>
}
</products>
```

(d)
```sql
SELECT P.name, P.price
FROM product P, sell S
WHERE P.pid = S.pid
  AND S.markup = "25%"
GROUP BY P.name
```

### Q2

### Q3

1)
